import React, { useEffect, useState } from "react";
import { motion } from "framer-motion";
import { Box, Typography } from "@mui/material";

const LoadingScreen = ({ twoSeconds, isLoading }) => {
    const [show, setShow] = useState(twoSeconds || isLoading);

    useEffect(() => {
        let timer;

        if (twoSeconds || isLoading) {
            setShow(true);
        } else {
            timer = setTimeout(() => {
                setShow(false);
            }, 500); // Wait for 500ms (0.5 seconds) before hiding the loading screen
        }

        return () => clearTimeout(timer);
    }, [twoSeconds, isLoading]);

    const pathVariants = {
        hidden: { pathLength: 0 },
        visible: {
            pathLength: 1,
            transition: {
                duration: 3,
                ease: "easeInOut",
                repeat: Infinity,
                repeatType: "reverse",
            },
        },
    };

    return (
        <>
            <div
                style={{
                    position: "fixed", // Fixed or absolute positioning
                    top: 0,
                    left: 0,
                    width: "100vw", // Covers the full viewport width
                    height: "100vh", // Covers the full viewport height
                    zIndex: show ? 10000 : -10000, // High z-index to ensure it covers other content
                    backgroundColor: "rgba(0, 0, 0, 0.5)", // Optional: adds a semi-transparent black background
                    opacity: show ? 1 : 0, // Set opacity based on the show state
                    transition: "opacity 0.5s ease, z-index 0.5s ease", // Transition effect for opacity change
                }}
            >
                <Box
                    sx={{
                        backgroundColor: "black",
                        height: "100vh",
                        display: "flex",
                        flexDirection: "column",
                        justifyContent: "center", // Centers horizontally
                        alignItems: "center", // Centers vertically
                    }}
                >
                    <svg width="30vh" viewBox="0 0 568 568">
                        <defs>
                            <linearGradient
                                id="gradient"
                                x1="100%"
                                y1="0%"
                                x2="25%"
                                y2="75%"
                                x3="0%"
                                y3="100%"
                            >
                                <stop offset="0%" stopColor="#13d2d3" />
                                <stop offset="50%" stopColor="#4c9fef" />
                                <stop offset="100%" stopColor="purple" />
                            </linearGradient>
                        </defs>
                        <motion.path
                            d={svgPath}
                            stroke="url(#gradient)"
                            strokeWidth="4"
                            variants={pathVariants}
                            fill="none"
                            initial="hidden"
                            animate="visible"
                        />
                    </svg>
                    <Typography
                        variant="h6"
                        noWrap
                        component="span" // Change from "a" to "span" to prevent nested anchor elements
                        sx={{
                            mr: 4,
                            display: { display: "flex" },
                            fontFamily: "monospace",
                            margin: "0",
                            fontWeight: 700,
                            letterSpacing: ".3rem",
                            color: "white",
                            textDecoration: "none",
                        }}
                    >
                        Loading
                    </Typography>
                </Box>
            </div>
        </>
    );
};

const svgPath =
    "M 301.740 45.760 L 283 64.519 283 103.486 L 283 142.453 290.024 149.524 L 297.047 156.595 290.024 163.975 L 283 171.356 283 193.524 L 283 215.692 291.158 223.916 L 299.316 232.140 291.158 240.341 L 283 248.542 283 279.044 L 283 309.547 291 317.500 C 295.400 321.874, 299 325.924, 299 326.500 C 299 327.076, 295.400 331.126, 291 335.500 L 283 343.453 283 368.985 L 283 394.516 292.500 404.266 C 297.725 409.629, 302 414.442, 302 414.963 C 302 415.484, 297.737 420.318, 292.527 425.705 L 283.054 435.500 283.027 471.646 L 283 507.792 298.958 523.896 L 314.916 540 335.143 540 L 355.370 540 364.056 531.500 L 372.742 523 399.007 523 L 425.271 523 441.868 506.566 L 458.465 490.133 458.983 484.316 L 459.500 478.500 477.154 478.227 L 494.808 477.955 507.404 465.459 L 520 452.963 520 432.837 L 520 412.712 538 394.643 L 556 376.574 556 349.524 L 556 322.473 542 308.500 C 534.300 300.815, 528 293.840, 528 293 C 528 292.159, 534.075 285.410, 541.500 278 L 555 264.528 555 239.028 L 555 213.529 542.923 201.423 L 530.845 189.316 530.786 155.234 L 530.726 121.151 514.046 104.575 L 497.367 88 488.424 88 L 479.480 88 460.500 69 L 441.520 50 414.061 50 L 386.601 50 374.958 38.500 L 363.315 27 341.897 27 L 320.480 27 301.740 45.760 M 227.051 28.749 L 211.602 29.054 192.383 48.428 L 173.164 67.801 173.692 71.738 C 174.293 76.220, 172.633 80.152, 168.514 84 C 166.350 86.022, 164.816 86.500, 160.485 86.500 C 155.918 86.500, 154.678 86.066, 152.050 83.548 C 147.626 79.309, 146.383 73.904, 148.536 68.266 C 150.707 62.583, 154.754 60.009, 161.527 60.004 C 166.411 60, 166.747 59.805, 173.362 53.139 C 181.690 44.747, 182.209 45.033, 158.575 45.014 L 141.650 45 126.825 59.707 L 112 74.414 112 104.126 L 112 133.839 103.387 142.413 C 95.063 150.699, 94.797 151.106, 95.445 154.559 C 97.128 163.529, 87.513 172.669, 79.058 170.136 C 77.056 169.536, 74.086 167.655, 72.458 165.957 C 69.869 163.254, 69.500 162.138, 69.500 157.015 C 69.500 152.160, 69.927 150.699, 72 148.452 C 75.380 144.789, 80.159 142.882, 84.022 143.654 C 86.913 144.233, 87.768 143.687, 94.584 136.917 L 102 129.550 102 111.275 L 102 93 84.731 93 L 67.462 93 57.731 102.768 L 48 112.536 48 145.929 L 48 179.322 60.199 191.661 L 72.398 204 91.958 204 L 111.519 204 130.760 184.741 L 150 165.481 150 149.481 L 150 133.481 169.759 113.741 L 189.518 94 200.187 94 C 210.613 94, 210.904 93.938, 213.001 91.272 C 220.064 82.292, 231.440 83.283, 236.353 93.307 C 238.966 98.638, 237.887 103.349, 232.911 108.324 C 229.094 112.142, 228.836 112.234, 223.294 111.775 C 218.254 111.357, 217.238 110.883, 214.444 107.651 L 211.288 104 202.473 104 L 193.657 104 176.829 120.940 L 160 137.880 160 153.698 L 160 169.516 137.242 192.258 L 114.484 215 91.980 215 L 69.477 215 53.738 199.239 L 38 183.477 38 174.739 C 38 169.932, 37.593 166, 37.095 166 C 36.597 166, 30.522 171.627, 23.595 178.504 L 11 191.007 11 214.768 L 11 238.528 24.263 251.764 C 31.558 259.044, 38.204 265, 39.031 265 C 39.859 265, 45.245 260.275, 51 254.500 L 61.464 244 80.760 244 L 100.056 244 116.216 260 L 132.377 276 168.965 276 L 205.554 276 212.471 282.970 C 218.116 288.660, 219.813 289.834, 221.700 289.360 C 225.723 288.351, 230.822 289.967, 234.471 293.408 C 237.678 296.432, 238 297.238, 238 302.233 C 238 306.294, 237.454 308.424, 235.912 310.385 C 231.471 316.031, 224.081 317.567, 218.304 314.044 C 213.489 311.108, 211.783 307.824, 211.857 301.630 C 211.920 296.394, 211.766 296.082, 206.914 291.613 L 201.906 287 165.240 287 L 128.574 287 111.933 270.462 L 95.291 253.925 80.036 254.329 L 64.781 254.733 38.391 281.109 L 12 307.486 12 329.499 L 12 351.512 42.276 381.776 C 71.592 411.080, 72.652 412.020, 75.724 411.405 C 80.415 410.467, 87.811 414.304, 89.611 418.611 C 93.781 428.591, 87.628 438, 76.932 438 C 73.425 438, 72.150 437.385, 68.882 434.118 C 65.326 430.561, 65 429.780, 65 424.805 L 65 419.375 52.491 406.938 C 45.611 400.097, 39.387 394.369, 38.661 394.210 C 37.588 393.973, 37.387 399.010, 37.584 421.109 L 37.827 448.299 50.649 461.149 L 63.471 474 88.342 474 L 113.212 474 115.194 471.480 C 121.469 463.503, 133.233 464.650, 137.507 473.655 C 144.056 487.457, 126.093 499.843, 116.075 488.433 L 112.998 484.928 103.405 485.214 L 93.812 485.500 107.796 499.373 C 115.487 507.003, 122.392 513.634, 123.140 514.108 C 124.841 515.185, 162.050 515.255, 163.737 514.184 C 164.606 513.632, 163.492 511.939, 159.987 508.487 L 155 503.575 155 478.025 L 155 452.474 140.500 438 L 126 423.526 126 408.263 L 126 393 113.238 393 L 100.477 393 84.738 377.239 L 69 361.477 69 346.600 L 69 331.724 65 327.384 C 61.415 323.495, 61 322.511, 61 317.905 C 61 313.267, 61.380 312.385, 64.882 308.882 C 68.384 305.381, 69.269 305, 73.897 305 C 78.346 305, 79.526 305.455, 82.765 308.423 C 86.303 311.666, 86.500 312.171, 86.500 318 C 86.500 323.833, 86.305 324.333, 82.750 327.590 L 79 331.027 79 343.899 L 79 356.771 91.556 369.419 L 104.112 382.067 114.806 381.783 L 125.500 381.500 125.779 369.458 L 126.058 357.416 140.529 342.971 L 155 328.526 155.007 323.513 C 155.017 315.241, 159.819 309.867, 167.300 309.754 C 176.109 309.621, 181.725 315.879, 180.728 324.718 C 179.875 332.290, 172.334 337.817, 164.887 336.327 C 162.250 335.800, 160.911 336.864, 149.004 348.958 L 136 362.165 136 390.838 L 136 419.512 167.756 451.256 L 199.512 483 207.068 483 C 214.354 483, 214.706 482.889, 216.910 479.908 C 223.439 471.078, 237.188 473.555, 240.020 484.073 C 243.966 498.729, 225.832 508.160, 216.910 496.092 C 214.632 493.010, 214.592 493, 205.049 493 L 195.473 493 181.500 479 C 173.815 471.300, 166.958 465, 166.263 465 C 165.295 465, 165 468.957, 165 481.928 L 165 498.856 184.694 518.428 L 204.389 538 221.956 538 L 239.523 538 255.262 522.239 L 271 506.477 270.883 470.489 L 270.766 434.500 264.350 428.553 L 257.935 422.606 249.198 431.303 L 240.460 440 224.480 440 L 208.500 440 196 427.460 C 184.160 415.582, 183.315 414.940, 180 415.299 C 174.893 415.852, 170.781 414.425, 167.443 410.941 C 164.869 408.254, 164.500 407.133, 164.500 402 C 164.500 396.867, 164.869 395.746, 167.443 393.059 C 172.650 387.625, 180.207 387.229, 186.360 392.069 C 189.334 394.408, 191.365 400.697, 190.395 404.562 C 189.805 406.915, 190.906 408.376, 200.599 418.100 L 211.466 429 224.494 429 L 237.522 429 254.261 412.239 L 271 395.479 271 376.952 L 271 358.425 266.250 353.938 C 263.637 351.471, 260.249 348.359, 258.721 347.024 L 255.941 344.596 246.203 354.298 L 236.464 364 227.578 364 L 218.693 364 215.096 367.859 C 208.663 374.763, 199.518 373.992, 194.263 366.102 C 187.255 355.580, 198.125 341.865, 209.777 346.528 C 211.931 347.389, 214.676 349.423, 215.877 351.047 C 217.927 353.820, 218.479 354, 224.940 354 L 231.821 354 251.410 334.273 L 271 314.545 271 288.010 L 271 261.474 256.737 247.237 L 242.475 233 229.426 233 L 216.376 233 214.090 236.092 C 211.231 239.959, 205.802 242.335, 201.822 241.461 C 197.357 240.480, 192.191 235.423, 190.951 230.819 C 190.013 227.334, 190.172 226.228, 192.187 222.212 C 196.838 212.946, 206.708 211.527, 213.834 219.100 L 217.500 222.997 232.047 222.998 L 246.594 223 250.500 227 C 252.648 229.200, 254.866 231, 255.429 231 C 255.992 231, 259.726 227.749, 263.726 223.775 L 271 216.550 271 194.545 L 271 172.540 262.271 163.770 C 257.470 158.946, 253.015 155, 252.371 155 C 251.728 155, 244.890 161.300, 237.176 169 L 223.150 183 210.315 183 L 197.481 183 178.353 202.250 C 160.711 220.004, 159.186 221.823, 158.720 225.658 C 158.269 229.372, 158.570 230.160, 161.541 233.039 C 165.801 237.168, 167.397 241.071, 166.588 245.382 C 165.401 251.710, 159.108 257, 152.767 257 C 149.051 257, 143.795 253.607, 141.827 249.938 C 138.451 243.643, 140.045 236.320, 145.685 232.211 C 148.157 230.410, 148.430 229.603, 148.463 223.983 L 148.500 217.752 170.768 195.376 L 193.037 173 205.725 173 L 218.413 173 244.707 146.775 L 271 120.550 271 88.012 L 271 55.473 257.237 41.737 C 249.667 34.181, 243.255 28.100, 242.987 28.222 C 242.719 28.344, 235.548 28.581, 227.051 28.749 M 311.005 54.800 L 296 69.600 296 103.663 L 296 137.726 300.957 142.363 C 303.684 144.913, 306.166 147, 306.473 147 C 306.781 147, 310.407 143.625, 314.532 139.500 L 322.032 132 339.173 132 L 356.315 132 368.211 143.750 C 379.486 154.886, 380.329 155.506, 384.347 155.617 C 393.052 155.859, 398.989 161.625, 398.996 169.846 C 399.004 178.641, 391.983 184.637, 382.719 183.747 C 378.349 183.327, 377.093 182.681, 373.815 179.168 C 370.388 175.493, 370 174.538, 370 169.770 L 370 164.462 360.232 154.731 L 350.464 145 338.970 145 L 327.477 145 311.738 160.761 L 296 176.523 296 193.482 L 296 210.442 301.719 216.221 C 304.864 219.399, 307.911 222, 308.491 222 C 309.070 222, 313.349 218.175, 318 213.500 L 326.456 205 334.845 205 L 343.234 205 347.062 201.056 C 351.993 195.975, 356.486 195.002, 362.849 197.639 C 368.840 200.122, 372.002 204.708, 371.993 210.898 C 371.982 219.189, 366.107 224.982, 357.700 224.993 C 352.107 225.001, 347.977 223.140, 345.625 219.551 C 344.181 217.347, 343.232 217, 338.653 217 L 333.351 217 314.676 235.578 L 296 254.156 296 278.841 L 296 303.527 309.763 317.263 L 323.526 331 333.971 331 L 344.416 331 348.189 327.315 C 351.498 324.084, 352.673 323.585, 357.731 323.260 C 367.318 322.645, 373.385 327.970, 373.385 337 C 373.385 344.388, 369.248 349.253, 361.473 351.006 C 356.497 352.128, 351.999 350.626, 348.009 346.510 L 344.608 343 330.596 343 L 316.584 343 312.783 339.288 L 308.982 335.576 302.491 342.009 L 296 348.442 296 369.048 L 296 389.653 303.949 397.389 C 310.549 403.811, 312.204 404.956, 313.699 404.129 C 314.690 403.581, 320.893 397.703, 327.484 391.066 L 339.469 379 351.495 379 L 363.520 379 381.692 360.750 C 398.110 344.261, 399.891 342.138, 400.156 338.752 C 400.387 335.807, 399.971 334.668, 398.219 333.441 C 393.031 329.807, 391.305 320.091, 394.883 314.664 C 398.087 309.804, 402.620 307.721, 408.861 308.238 C 413.707 308.640, 414.754 309.154, 418.161 312.807 C 421.508 316.395, 422 317.537, 421.996 321.711 C 421.992 326.944, 419.473 332.141, 416.054 333.971 C 414.319 334.900, 414 336.040, 414 341.315 L 414 347.559 391.750 369.683 L 369.500 391.808 357.146 391.765 L 344.792 391.723 320.396 416.104 L 296 440.485 296 471.507 L 296 502.530 308.264 514.765 L 320.529 527 335.025 527 L 349.520 527 367.760 508.740 L 386 490.480 386 485.888 C 386 480.264, 389.067 475.240, 394.020 472.752 C 400.757 469.367, 408.448 471.514, 412.819 478 C 416.153 482.946, 415.545 490.778, 411.501 494.999 C 408.255 498.387, 403.347 500.292, 399.030 499.839 C 396.595 499.584, 395.130 500.432, 391.025 504.476 C 388.261 507.198, 386 509.779, 386 510.212 C 386 510.646, 393.306 511, 402.237 511 L 418.473 511 431.737 497.764 L 445 484.528 445 455.928 L 445 427.328 453.357 419.025 L 461.714 410.721 461.714 405.403 C 461.714 396.833, 467.290 391.010, 475.500 391.005 C 484.186 391.001, 490.500 396.892, 490.500 405 C 490.500 413.270, 484.516 419.231, 476.214 419.231 C 471.413 419.231, 470.969 419.478, 465.082 425.418 L 458.950 431.604 459.225 448.552 L 459.500 465.500 473.856 465.778 L 488.212 466.056 497.606 456.844 L 507 447.632 507 416.081 L 507 384.530 495.266 372.765 L 483.531 361 466.505 361 L 449.480 361 431.240 379.260 L 413 397.520 413 412.519 L 413 427.518 392.741 447.759 L 372.482 468 362.276 468 C 352.941 468, 351.975 468.179, 350.950 470.094 C 350.333 471.246, 347.812 473.080, 345.347 474.171 C 339.094 476.937, 333.695 475.935, 328.902 471.120 C 324.142 466.338, 323.218 461.557, 325.886 455.524 C 330.333 445.472, 342.976 443.897, 350.924 452.405 C 353.076 454.708, 354.116 455, 360.177 455 L 367.005 455 383.003 439.120 L 399 423.240 399 407.841 L 399 392.441 421.301 370.221 L 443.602 348 466.563 348 L 489.524 348 504.762 363.262 L 520 378.523 520 386.495 L 520 394.467 531.500 383 L 543 371.533 543 349.776 L 543 328.020 530.547 315.449 C 520.080 304.883, 517.808 303.037, 516.297 303.871 C 515.309 304.416, 510.685 308.718, 506.022 313.431 L 497.544 322 477.010 322 L 456.475 322 441.500 307 L 426.525 292 391.513 291.990 L 356.500 291.981 349.760 285.513 C 343.862 279.855, 342.658 279.118, 340.131 279.624 C 335.924 280.465, 328.512 276.888, 326.030 272.818 C 321.939 266.107, 324.224 256.929, 330.922 253.164 C 335.732 250.461, 340.919 250.408, 346.019 253.010 C 350.856 255.477, 353 259.388, 353 265.742 C 353 270.124, 353.407 270.983, 357.288 274.792 L 361.576 279 397.050 279 L 432.524 279 448 294.500 L 463.476 310 477.495 310 L 491.515 310 516.258 285.243 L 541 260.485 541 239.486 L 541 218.487 512.634 190.134 C 488.024 165.535, 483.972 161.874, 482.036 162.489 C 478.879 163.491, 471.558 160.452, 468.568 156.899 C 463.496 150.870, 464.347 142.537, 470.596 137.050 C 473.603 134.409, 474.837 134.001, 479.785 134.004 C 483.611 134.006, 486.518 134.628, 488.580 135.886 C 492.670 138.380, 495.374 144.179, 494.720 149.054 C 494.226 152.732, 494.479 153.091, 504.462 162.915 C 510.098 168.462, 515.225 173, 515.855 173 C 516.682 173, 517 166.542, 517 149.735 L 517 126.470 504.736 114.235 L 492.471 102 470.033 102 L 447.595 102 444.290 105.203 C 441.429 107.977, 440.143 108.460, 434.693 108.807 C 429 109.169, 428.092 108.948, 425.164 106.485 C 417.330 99.893, 416.964 91.026, 424.245 84.226 C 429.808 79.030, 437.510 79.177, 443.845 84.599 C 447.222 87.490, 448.573 88, 452.850 88 C 455.618 88, 458.120 87.614, 458.411 87.143 C 458.703 86.672, 453.576 80.822, 447.019 74.143 L 435.098 62 421.299 62.058 C 413.709 62.089, 405.789 62.427, 403.697 62.808 L 399.894 63.500 403.947 67.453 L 408 71.406 408 95.966 L 408 120.527 422 134.500 L 436 148.473 436 162.737 L 436 177 447.715 177 L 459.431 177 475.215 192.785 L 491 208.569 491 223.316 C 491 235.412, 491.266 238.165, 492.480 238.631 C 497.554 240.578, 499.981 252.870, 496.272 257.838 C 491.288 264.513, 484.878 266.367, 477.723 263.202 C 472.325 260.814, 469.928 257.541, 469.264 251.651 C 468.717 246.795, 470.308 242.903, 474.405 239.076 C 476.910 236.736, 477 236.248, 477 225.060 L 477 213.469 465.164 201.663 L 453.327 189.858 444.914 190.179 L 436.500 190.500 436 201.741 L 435.500 212.982 421.750 226.754 C 408.177 240.349, 408 240.584, 407.996 245.013 C 407.992 250.394, 405.330 255.195, 400.759 258.065 C 398.240 259.647, 396.292 260.022, 392.178 259.717 C 387.669 259.384, 386.309 258.776, 383.267 255.733 C 380.241 252.707, 379.609 251.307, 379.249 246.822 C 378.897 242.442, 379.239 240.881, 381.181 238 C 384.085 233.691, 389.205 231.004, 394.516 231.002 C 398.310 231, 399.178 230.352, 410.266 219.235 L 422 207.470 422 180.478 L 422 153.487 392.365 123.743 L 362.730 94 356.236 94 C 350.219 94, 349.458 94.257, 345.868 97.500 C 343.648 99.506, 340.822 101.066, 339.247 101.156 C 328.052 101.789, 322.011 96.532, 322.004 86.150 C 322 81.429, 322.388 80.412, 325.297 77.503 C 329.161 73.639, 334.544 71.882, 339.259 72.946 C 343.227 73.841, 347.608 76.536, 348.385 78.560 C 348.811 79.670, 351.065 80, 358.234 80 L 367.530 80 380 92.500 C 386.858 99.375, 392.814 105, 393.235 105 C 393.656 105, 394 98.583, 394 90.740 L 394 76.480 375.740 58.240 L 357.480 40 341.745 40 L 326.010 40 311.005 54.800";

export default LoadingScreen;
